{"version":3,"sources":["utils/setAuthToken.js","actions/types.js","actions/authActions.js","reducers/authReducer.js","reducers/errorReducer.js","reducers/index.js","store.js","components/Register/Register.js","components/Login/Login.js","components/PrivateRoute.js","components/Navbar.js","utils/API.js","components/SurveyResults.js","components/Dashboard.js","components/ScoreCard.js","pages/Home.js","pages/Favorites.js","pages/CityResults.js","components/Survey/Survey.js","App.js","index.js"],"names":["setAuthToken","token","axios","defaults","headers","common","GET_ERRORS","USER_LOADING","SET_CURRENT_USER","setCurrentUser","decoded","type","payload","logoutUser","dispatch","localStorage","removeItem","isEmpty","require","initialState","isAuthenticated","user","loading","combineReducers","auth","state","action","errors","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","Register","onChange","e","setState","target","id","value","onSubmit","preventDefault","newUser","email","password","props","registerUser","history","this","push","nextProps","Container","className","Row","to","Form","noValidate","error","classnames","invalid","htmlFor","Button","Component","connect","userData","post","then","res","catch","err","response","data","withRouter","Login","console","log","loginUser","emailnotfound","passwordincorrect","setItem","jwt_decode","component","rest","render","TopNav","onLogout","event","Navbar","collapseOnSelect","expand","Toggle","aria-controls","Collapse","Nav","onClick","searchedCity","get","surveyData","SurveyResults","useState","name","position","userResults","useEffect","API","Card","Dashboard","onLogoutClick","href","CityScores","style","width","Img","variant","src","image","photos","mobile","Body","Title","search","ListGroup","scores","categories","map","cityData","i","ListGroupItem","score_out_of_10","toFixed","CitySearch","handleInputChange","handleFormSubmit","displayCityScores","displayCityImage","placeholder","Object","keys","length","Favorites","CityResults","surveyID","userSurvey","setUserSurvey","SortableItem","SortableElement","index","SortableList","SortableContainer","items","sort","a","b","onSortEnd","oldIndex","newIndex","arr","arrayMove","axis","jwtToken","currentTime","Date","now","exp","location","App","exact","path","Survey","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.66a45357.chunk.js","sourcesContent":["import axios from \"axios\";\nconst setAuthToken = token => {\n  if (token) {\n    // Apply authorization token to every request if logged in\n    axios.defaults.headers.common[\"Authorization\"] = token;\n  } else {\n    // Delete auth header\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\nexport default setAuthToken;","export const GET_ERRORS = \"GET_ERRORS\";\nexport const USER_LOADING = \"USER_LOADING\";\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";","import axios from \"axios\";\nimport setAuthToken from \"../utils/setAuthToken\";\nimport jwt_decode from \"jwt-decode\";\nimport {\n  GET_ERRORS,\n  SET_CURRENT_USER,\n  USER_LOADING\n} from \"./types\";\n// Register User\nexport const registerUser = (userData, history) => dispatch => {\n  axios\n    .post(\"/api/users/register\", userData)\n    .then(res => history.push(\"/login\")) // re-direct to login on successful register\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n// Login - get user token\nexport const loginUser = userData => dispatch => {\n  axios\n    .post(\"/api/users/login\", userData)\n    .then(res => {\n      // Save to localStorage\n// Set token to localStorage\n      const { token } = res.data;\n      localStorage.setItem(\"jwtToken\", token);\n      // Set token to Auth header\n      setAuthToken(token);\n      // Decode token to get user data\n      const decoded = jwt_decode(token);\n      // Set current user\n      dispatch(setCurrentUser(decoded));\n    })\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n// Set logged in user\nexport const setCurrentUser = decoded => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: decoded\n  };\n};\n// User loading\nexport const setUserLoading = () => {\n  return {\n    type: USER_LOADING\n  };\n};\n// Log user out\nexport const logoutUser = () => dispatch => {\n  // Remove token from local storage\n  localStorage.removeItem(\"jwtToken\");\n  // Remove auth header for future requests\n  setAuthToken(false);\n  // Set current user to empty object {} which will set isAuthenticated to false\n  dispatch(setCurrentUser({}));\n};","import {\n    SET_CURRENT_USER,\n    USER_LOADING\n  } from \"../actions/types\";\n  const isEmpty = require(\"is-empty\");\n  const initialState = {\n    isAuthenticated: false,\n    user: {},\n    loading: false\n  };\n  // eslint-disable-next-line import/no-anonymous-default-export\n  export default function(state = initialState, action) {\n    switch (action.type) {\n      case SET_CURRENT_USER:\n        return {\n          ...state,\n          isAuthenticated: !isEmpty(action.payload),\n          user: action.payload\n        };\n      case USER_LOADING:\n        return {\n          ...state,\n          loading: true\n        };\n      default:\n        return state;\n    }\n  }","import { GET_ERRORS } from \"../actions/types\";\nconst initialState = {};\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_ERRORS:\n      return action.payload;\n    default:\n      return state;\n  }\n}","import { combineReducers } from \"redux\";\nimport authReducer from \"./authReducer\";\nimport errorReducer from \"./errorReducer\";\nexport default combineReducers({\n  auth: authReducer,\n  errors: errorReducer\n});","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst initialState = {};\nconst middleware = [thunk];\n\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  compose(\n    applyMiddleware(...middleware),\n    (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()) ||\n      compose\n  )\n);\n\nexport default store;","import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { registerUser } from \"../../actions/authActions\"\nimport classnames from \"classnames\";\nimport { Container, Row, Form, Button } from 'react-bootstrap';\n\nclass Register extends Component {\n  constructor() {\n    super();\n    this.state = {\n\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\"); // push user to dashboard when they login\n    }\nif (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n\n  onChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\n  onSubmit = e => {\n    e.preventDefault();\n    const newUser = {\n\n      email: this.state.email,\n      password: this.state.password,\n\n    };\n    this.props.registerUser(newUser, this.props.history);\n  };\n\n  render() {\n    const { errors } = this.state;\n\n    return (\n      <Container className=\"mt-4\">\n        <Row>\n          <div className=\"col-sm-12 pl-11.250px\">\n            <h2> <b>Sign up</b> for an account </h2>\n\n            <p>\n              Already a member? <Link to=\"/login\">Log in</Link>\n            </p>\n          </div>\n\n          <Form noValidate onSubmit={this.onSubmit}>\n            <div className=\"input-field col-sm-12\">\n              <input\n                onChange={this.onChange}\n                value={this.state.email}\n                error={errors.email}\n                id=\"email\"\n                type=\"email\"\n                className={classnames(\"\", {\n                  invalid: errors.email\n                })}\n              />\n              <label className=\"pl-2\" htmlFor=\"email\"> Email</label>\n              <span className=\"pl-2 text-danger\">{errors.email}</span>\n            </div>\n            <div className=\"input-field col-sm-12\">\n              <input\n                onChange={this.onChange}\n                value={this.state.password}\n                error={errors.password}\n                id=\"password\"\n                type=\"password\"\n                className={classnames(\"\", {\n                  invalid: errors.password\n                })}\n              />\n              <label className=\"pl-2\" htmlFor=\"password\"> Password</label>\n              <span className=\"pl-2 text-danger\">{errors.password}</span>\n            </div>\n\n            <div className=\"pt-2 col-sm-12 pl-11.250px\">\n              <Button\n                type=\"submit\"\n                className=\"btn btn-large\"\n              >\n                Sign up\n                </Button>\n            </div>\n          </Form>\n\n        </Row>\n\n      </Container>\n    );\n  }\n}\nRegister.propTypes = {\n  registerUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\nexport default connect(\n  mapStateToProps,\n  { registerUser }\n)(withRouter(Register));","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\nimport \"./login.css\"\nimport { Container, Row, Form, Button } from \"react-bootstrap\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    // If the user is logged in and they navigate to the registration page, they will be redirected to the dashboard.\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\"); // push user to dashboard when they login\n    }\nif (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\nonChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\nonSubmit = e => {\n    e.preventDefault();\nconst userData = {\n      email: this.state.email,\n      password: this.state.password\n    };\n\nconsole.log(userData);\nthis.props.loginUser(userData);\n  };\n\nrender() {\n    const { errors } = this.state;\nreturn (\n      <Container className=\"mt-4\">\n        <Row>\n          \n            <div className=\"col-sm-12 pl-11.250px\">\n              <h2>\n                <b>Login</b> below\n              </h2>\n              <p>\n                Don't have an account? <Link to=\"/register\">Register</Link>\n              </p>\n            </div>\n            <Form noValidate onSubmit={this.onSubmit}>\n              <div className=\"input-field col-sm-12\">\n                <input\n                  onChange={this.onChange}\n                  value={this.state.email}\n                  error={errors.email}\n                  id=\"email\"\n                  type=\"email\"\n                  className={classnames(\"\", {\n                    invalid: errors.email || errors.emailnotfound\n                  })}\n                />\n                <label className=\"pl-2\" htmlFor=\"email\"> Email</label>\n                <span className=\"pl-2 text-danger\">\n                  {errors.email}\n                  {errors.emailnotfound}\n                </span>\n              </div>\n              <div className=\"input-field col-sm-12\">\n                <input\n                  onChange={this.onChange}\n                  value={this.state.password}\n                  error={errors.password}\n                  id=\"password\"\n                  type=\"password\"\n                  className={classnames(\"\", {\n                    invalid: errors.password || errors.passwordincorrect\n                  })}\n                />\n                <label className=\"pl-2\" htmlFor=\"password\"> Password</label>\n                <span className=\"pl-2 text-danger\">\n                  {errors.password}\n                  {errors.passwordincorrect}\n                </span>\n              </div>\n              <div className=\"pt-2 col-sm-12 pl-11.250px\">\n                <Button\n          \n                  type=\"submit\"\n                  className=\"btn btn-large\"\n                >\n                  Login\n                </Button>\n              </div>\n            </Form>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nLogin.propTypes = {\n    loginUser: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired,\n    errors: PropTypes.string.isRequired\n  };\n  const mapStateToProps = state => ({\n    auth: state.auth,\n    errors: state.errors\n  });\n  export default connect(\n    mapStateToProps,\n    { loginUser }\n  )(Login);","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      auth.isAuthenticated === true ? (\n        <Component {...props} />\n      ) : (\n        <Redirect to=\"/login\" />\n      )\n    }\n  />\n);\nPrivateRoute.propTypes = {\n  auth: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\nexport default connect(mapStateToProps)(PrivateRoute);","import React, { Component } from 'react';\nimport {Navbar, Nav} from 'react-bootstrap';\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../actions/authActions\";\n\nclass TopNav extends Component {\n    onLogout = event => {\n        event.preventDefault();\n        this.props.logoutUser();\n    }\n\n    render() {\n        return(\n            <>\n            <header>\n                <Navbar collapseOnSelect expand=\"lg\" className=\"pt-2 pb-2 navbar bg-none\">\n                \n                    <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n                    <Navbar.Collapse id=\"responsive-navbar-nav\">\n                        <Nav className=\"ml-auto navlink\">\n\n                        <i onClick={this.onLogout} id=\"logout\" className=\"fa fa-sign-out fa-2x\"></i>\n\n\n                        </Nav>\n                    </Navbar.Collapse>\n\n                </Navbar>\n\n            </header>\n            </>\n        )\n    }\n}\n\nTopNav.propTypes = {\n    logoutUser: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(\n    mapStateToProps,\n    { logoutUser }\n) (TopNav);","/* eslint-disable import/no-anonymous-default-export */\nimport axios from \"axios\";\n\nexport default {\n\n    getCity: function (searchedCity) {\n        return axios.get(`https://api.teleport.org/api/urban_areas/slug:${searchedCity}/scores`);\n    },\n\n    getImage: function (searchedCity) {\n        return axios.get(`https://api.teleport.org/api/urban_areas/slug:${searchedCity}/images`); \n    },\n   \n    saveCity: function (cityData) {\n        return axios.post(\"/api/posts\", cityData).then(result => result.data);\n    },\n\n    savedCities: function () {\n        return axios.get(\"/api/posts\").then(result => result.data);\n    },\n\n    saveSurvey: function (surveyData) {\n        return axios.post(\"/api/survey\", surveyData);\n    },\n\n    findSurvey: function () {\n        return axios.get(\"/api/survey\");\n    },\n\n    findAllSurveyAnswers: function (user) {\n        return axios.get(\"/api/survey/user/\" + user)\n    }\n };\n\n","/* eslint-disable no-unused-vars */\n/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from \"react\";\nimport API from \"../utils/API\"\nimport { Card } from \"react-bootstrap\"\n\nfunction SurveyResults(props) {\n    const [userResults, setUserResults] = useState({\n        name: \"\",\n        position: 0\n    });\n\n    console.log(props)\n    // const { user } = props.auth;\n\n    useEffect(() => {\n        API.findAllSurveyAnswers(props.user)\n            .then(data => {\n                console.log(data)\n            }).catch(err => console.log(err))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    // useEffect(() => {\n    //     API.findSurvey(props.user)\n    //         .then(data => {\n    //             console.log(`@@@@@@@`)\n    //             console.log(data.data)\n    //             if (data.data[0]) {\n    //             setUserResults(data.data)\n    //             }\n    //         })\n    //         .catch(err => console.log(err));\n    // // eslint-disable-next-line react-hooks/exhaustive-deps\n    // }, []);\n    // useEffect(() => {\n    //     console.log(props);\n    //     API.findSurvey(props.user)\n    //         .then(results => {\n    //             console.log(\"##########\")\n    //             console.log(results.data)\n    //         })\n    // }).catch(err => console.log(err))\n\n    return (\n        <>\n            <Card>\n                <h2> {userResults.name} </h2>\n                {console.log(userResults)}\n                {console.log(props)}\n            </Card>\n        </>\n    )\n}\n\nexport default SurveyResults;","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { logoutUser } from \"../actions/authActions\"\nimport { Container, Button } from \"react-bootstrap\";\nimport TopNav from \"./Navbar\";\n// eslint-disable-next-line no-unused-vars\nimport SurveyResults from \"./SurveyResults\"\n\n\nclass Dashboard extends Component {\n  onLogoutClick = e => {\n    e.preventDefault();\n    this.props.logoutUser();\n  };\n\n\n  render() {\n\n    const { user } = this.props.auth;\n    console.log(this.props.auth.user);\n    return (\n      <>\n        <TopNav />\n\n        <Container className=\"mt-4\">\n          <div className=\"row\">\n            <div className=\"col-sm-12 center-align\">\n              <h3 className=\"mb-4\">\n                <b>Welcome to your Fresh Start,</b> {user.email}!\n            </h3>\n              <Container className=\"justify-content-center\">\n              <SurveyResults />\n              <Button \n                href=\"/home\"\n                className=\"btn btn-primary mt-2 mr-2\"\n              >\n                Search Cities\n            </Button>\n              <Button href=\"/survey\"\n                className=\"btn btn-primary mt-2\"> Take Survey </Button>\n              </Container>\n              \n            </div>\n          </div>\n        </Container>\n      </>\n    );\n  }\n}\nDashboard.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\nexport default connect(\n  mapStateToProps,\n  { logoutUser }\n)(Dashboard);","/* eslint-disable no-useless-constructor */\nimport React, { Component } from 'react';\nimport { Card, ListGroup, ListGroupItem, Button } from 'react-bootstrap';\n\nclass CityScores extends Component {\n\n    constructor(props) {\n        super(props)\n    }\n\n\n    render() {\n        return (\n            <>\n                <Card style={{ width: '30rem' }}>\n                    <Card.Img variant=\"top\" src={this.props.image.photos[0].image.mobile} />\n                    <Card.Body>\n                        <Card.Title>{this.props.search}</Card.Title>\n                    </Card.Body>\n                    <ListGroup className=\"list-group-flush\">\n                    \n                        {this.props.scores.categories.map((cityData, i) => (\n                            <ListGroupItem key={i}>\n                                <div>{cityData.name}</div>\n                                <div>{cityData.score_out_of_10.toFixed(2)}</div>\n                            </ListGroupItem>\n        \n                        ))}\n                \n                    </ListGroup>\n                    <Button id=\"citySaveButton\">Save this City</Button>\n                </Card>\n            </>\n        )\n    }\n\n}\n\n\nexport default CityScores;","/* eslint-disable no-unused-vars */\nimport React, { Component } from 'react';\nimport CityScores from '../components/ScoreCard';\nimport API from \"../utils/API\";\nimport { Container, Form, Button } from \"react-bootstrap\";\n\n\nclass CitySearch extends Component {\n    state = {\n        scores: {},\n        image: {},\n        search: \"\",\n    };\n\n    handleInputChange = event => {\n        const { search, value } = event.target;\n        this.setState({\n            search: value\n        });\n        console.log(this.state.search);\n    };\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        this.displayCityScores();\n        this.displayCityImage();\n    };\n\n    displayCityScores = () => {\n        API.getCity(this.state.search)\n            .then(res => {\n                this.setState({ scores: res.data });\n                console.log(res.data);\n            }\n            )\n            .catch(err => console.log(err));\n    };\n\n    displayCityImage = () => {\n        API.getImage(this.state.search)\n            .then(res => {\n                this.setState({ image: res.data });\n                console.log(res.data);\n            }\n            )\n            .catch(err => console.log(err));\n    };\n\n    render() {\n    return (\n        <>\n        <Container>\n            <Form>\n                <input onChange={this.handleInputChange} id=\"cityName\" placeholder=\"Search City...\"></input>\n                <Button onClick={this.handleFormSubmit} id=\"citySearchButton\">Search</Button>\n            </Form>\n            {Object.keys(this.state.scores).length > 0 ? (\n                <CityScores scores={this.state.scores} search={this.state.search} image={this.state.image} />\n                 ) : (\n                    <div>Sorry, there are currently no results for this city.</div>)}\n        </Container>\n        </>\n    )\n}\n}\n\nexport default CitySearch;","import React from 'react';\n\n\nfunction Favorites() {\n    return (\n        <>\n            <h1>FAVORITES</h1>\n        </>\n    )\n}\n\n\nexport default Favorites;","import React from 'react';\nimport CityScores from '../components/ScoreCard'\n\nfunction CityResults() {\n    return (\n        <>\n            <h1>CITY RESULTS</h1>\n            <CityScores/>\n        </>\n    )\n}\n\n\nexport default CityResults;","import React, { useState } from \"react\";\nimport { SortableContainer, SortableElement } from \"react-sortable-hoc\";\nimport arrayMove from \"array-move\";\nimport { Container, Card, Row, Button } from \"react-bootstrap\";\nimport \"./survey.css\"\nimport API from \"../../utils/API\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport TopNav from \"../Navbar\";\n\nfunction Survey(props) {\n  console.log(props)\n  const { user } = props.auth;\n  const [userSurvey, setUserSurvey] = useState([\n    {\n      name: \"Safety\",\n      position: 0,\n      surveyID: 0,\n      user: user.id\n    },\n    {\n      name: \"Education\",\n      position: 1,\n      surveyID: 1,\n      user: user.id\n    },\n    {\n      name: \"Commute\",\n      position: 2,\n      surveyID: 2,\n      user: user.id\n    },\n    {\n      name: \"Outdoors\",\n      position: 3,\n      surveyID: 3,\n      user: user.id\n    },\n    {\n      name: \"Healthcare\",\n      position: 4,\n      surveyID: 4,\n      user: user.id\n    },\n    {\n      name: \"Environmental Quality\",\n      position: 5,\n      surveyID: 5,\n      user: user.id\n    },\n    {\n      name: \"Culture\",\n      position: 6,\n      surveyID: 6,\n      user: user.id\n    },\n    {\n      name: \"Economy\",\n      position: 7,\n      surveyID: 7,\n      user: user.id\n    },\n    {\n      name: \"Housing\",\n      position: 8,\n      surveyID: 8,\n      user: user.id\n    },\n    {\n      name: \"Cost of Living\",\n      position: 9,\n      surveyID: 9,\n      user: user.id\n    },\n\n  ]);\n\n  console.log(userSurvey);\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    console.log(\"clicked\")\n    console.log(API.saveSurvey())\n    API.saveSurvey(\n      userSurvey\n    )\n      .then(surveyData => {\n        console.log(\"survey saved!\")\n        console.log(surveyData)\n      }).catch(err => console.log(err));\n  }\n\n  const SortableItem = SortableElement(({ value, index }) => (\n    <div className=\"list__card\" index={index}>\n      <div className=\"list__card-right\">\n        <div className=\"list__card-right--name\"> {value.name} </div>\n      </div>\n    </div>\n  ));\n\n  const SortableList = SortableContainer(({ items }) => {\n    return (\n      <div className=\"list\">\n        {items\n          .sort((a, b) => a.position - b.position)\n          .map((value, index) => (\n            <SortableItem value={value} index={index} key={value.surveyID} />\n          ))}\n      </div>\n    );\n  });\n\n  const onSortEnd = ({ oldIndex, newIndex }) => {\n    let arr = arrayMove(userSurvey, oldIndex, newIndex);\n    for (let i = 0; i < arr.length; i++) {\n      arr[i].position = i;\n    }\n    setUserSurvey(arr);\n  };\n\n\n  return (\n    <>\n      <TopNav />\n      <Container className=\"mt-4 flex\">\n        <Row className=\"justify-content-center pt-4\">\n          <div className=\"text-center\">\n            <h4> Rank the following from top to bottom</h4>\n            <h6> With the top being the most important to you and the bottom being the least.</h6>\n          </div>\n        </Row>\n        <Row className=\"justify-content-center mt-4\">\n          <Card className=\"mr-3\">\n            <Card.Body>\n              <h6 className=\"text-center\"> Options </h6>\n              <SortableList items={userSurvey} onSortEnd={onSortEnd} axis=\"xy\" />\n            </Card.Body>\n          </Card>\n        </Row>\n        <Row className=\"justify-content-center mt-4\">\n          <Button className=\"mr-2\" onClick={handleFormSubmit}> Save </Button>\n          <Button href=\"/home\"> Search Cities </Button>\n        </Row>\n      </Container>\n    </>\n  );\n};\n\nSurvey.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(\n  mapStateToProps\n)(Survey);\n\n\n\n","// import React, { Component } from \"react\";\nimport React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nimport Register from \"./components/Register/Register\";\nimport Login from \"./components/Login/Login\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport Dashboard from \"./components/Dashboard\";\nimport CitySearch from './pages/Home';\nimport Favorites from './pages/Favorites';\nimport CityResults from './pages/CityResults';\nimport CityScores from './components/ScoreCard';\nimport Survey from './components/Survey/Survey';\n\n// Check for token to keep user logged in\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(token);\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n  // Check for expired token\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser());\n    // Redirect to login\n    window.location.href = \"./login\";\n  }\n}\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router>\n\n        <Route exact path=\"/\" component={Register} />\n        <Route exact path=\"/register\" component={Register} />\n        <Route exact path=\"/login\" component={Login} />\n        <Switch>\n\n          <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n          <PrivateRoute exact path=\"/survey\" component={Survey} />\n          <PrivateRoute exact path=\"/Home\" component={CitySearch} />\n          <PrivateRoute exact path=\"/CityResults\" component={CityResults} />\n          <PrivateRoute exact path=\"/Favorites\" component={Favorites} />\n        </Switch>\n\n      </Router>\n    </Provider>\n  )};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nReactDOM.render(\n\n    <App />,\n\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}